<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beers & Papas</title>
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <div class="main-container">
        <nav class="navbar">
            <div class="logo">Beers & Papas</div>
            <div class="menu-toggle" id="menuToggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <ul class="nav-menu" id="navMenu">
                <li><a href="#" id="homeLink">Inicio</a></li>
                <li><a href="#" id="registerLink">Registrarse</a></li>
                <li><a href="#" id="rateLink">Valorar</a></li>
                <li><a href="#" id="contributeLink">Contribuir</a></li>
                <li><a href="#" id="searchLink">Tomar algo</a></li>
                <li><a href="#" id="logoutLink" style="display:none;">Cerrar sesión</a></li>
            </ul>
        </nav>

        <div class="hero-section">
            <h1>Bienvenido a Beers & Papas</h1>
            <p></p>
                    </div>

        <div id="map-container" class="hidden">
            <div class="search-container">
                <input type="text" id="searchInput" placeholder="Buscar productos...">
                <input type="number" id="radiusInput" placeholder="Radio (km)" value="1" min="0.1" max="10" step="0.1">
                <input type="number" id="minPriceInput" placeholder="Precio mínimo" min="0" step="0.01" inputmode="decimal">
                <input type="number" id="maxPriceInput" placeholder="Precio máximo" min="0" step="0.01" inputmode="decimal">
                <select id="categoryInput">
                    <option value="">Todas las categorías</option>
                </select>
                <button id="searchButton" onclick="searchNearbyProducts()">Buscar</button>
            </div>
            <div id="map"></div>
            <div id="results" class="results-container"></div>
        </div>

        <!-- Pantalla de Registro (página completa) -->
        <section id="registerPage" class="page register-page hidden">
            <div class="page-content">
                <span class="close" id="closeRegisterPage">&times;</span>
                <h2>Registro</h2>
                <form id="registerForm">
                    <input type="text" id="registerUsername" placeholder="Nombre de usuario" required>
                    <input type="email" id="registerEmail" placeholder="Email" required>
                    <input type="password" id="registerPassword" placeholder="Contraseña" required>
                    <button type="submit">Registrarse</button>
                </form>
                <div id="registerMessage" class="modal-message"></div>
                </div>
        </section>

        <!-- Pantalla de Login (página completa) -->
        <section id="loginPage" class="page login-page hidden">
            <div class="page-content">
                <span class="close" id="closeLoginPage">&times;</span>
                <h2>Iniciar sesión</h2>
                <form id="loginForm">
                    <input type="text" id="loginUsername" placeholder="Nombre de usuario" required>
                    <input type="password" id="loginPassword" placeholder="Contraseña" required>
                    <button type="submit">Entrar</button>
                </form>
                <div id="loginMessage" class="modal-message"></div>
            </div>
        </section>

        <!-- Modal de Valoración -->
        <div id="rateModal" class="modal hidden rate-modal-bg">
            <div class="modal-content">
                <span class="close" id="closeRateModal">&times;</span>
                <h2>Valorar producto</h2>
                <form id="rateForm">
                    <input type="text" id="rateProductName" placeholder="Nombre del producto" required>
                    <input type="text" id="ratePlaceName" placeholder="Nombre del local" required>
                    <select id="rateScore" required>
                        <option value="">Puntuación</option>
                        <option value="1">1 ⭐</option>
                        <option value="2">2 ⭐⭐</option>
                        <option value="3">3 ⭐⭐⭐</option>
                        <option value="4">4 ⭐⭐⭐⭐</option>
                        <option value="5">5 ⭐⭐⭐⭐⭐</option>
                    </select>
                    <textarea id="rateComment" placeholder="Comentario (opcional)"></textarea>
                    <button type="submit">Enviar valoración</button>
                </form>
                <div id="rateMessage" class="modal-message"></div>
            </div>
        </div>

        <!-- Modal de Contribución -->
        <div id="contributeModal" class="modal hidden contribute-modal-bg">
            <div class="modal-content">
                <span class="close" id="closeContributeModal">&times;</span>
                <h2>Contribuir precio</h2>
                <form id="contributeForm">
                    <select id="contributeDrinkType" required>
                        <option value="">Selecciona una bebida</option>
                        <option value="Cerveza">Cerveza</option>
                        <option value="Sidra">Sidra</option>
                        <option value="Tinto">Tinto de Verano</option>
                        <option value="Vino">Vino</option>
                        <option value="Refresco">Refresco</option>
                    </select>
                    
                    <div id="drinkOptions" class="drink-options hidden">
                        <div class="option-group">
                            <label for="drinkVolume">Volumen:</label>
                            <select id="drinkVolume" required>
                                <!-- Las opciones se cargarán dinámicamente -->
                            </select>
                        </div>
                        <div class="option-group">
                            <label for="drinkSubtype">Tipo:</label>
                            <select id="drinkSubtype" required>
                                <!-- Las opciones se cargarán dinámicamente -->
                            </select>
                        </div>
                    </div>

                    <input type="number" id="contributePrice" step="0.01" min="0" placeholder="Precio" required>
                    <input type="text" id="contributePlaceName" placeholder="Nombre del establecimiento" required>
                    <button type="submit">Enviar contribución</button>
                    <p id="contributeMessage" class="modal-message"></p>
                </form>
            </div>
        </div>
    </div>

    <script src="js/api.js"></script>
    <script src="js/map.js"></script>
    <script src="js/app.js"></script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB41DRUbKWJHPxaFjMAwdrzWzbVKartNGg&callback=initMap"></script>
</body>
</html> 